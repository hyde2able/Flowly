{"version":3,"sources":["node_modules/browser-pack/_prelude.js","node_modules/element-resize-event/index.js","src/flowly/base.js","src/flowly/text.js","src/index.js","src/utils.js"],"names":["f","exports","module","define","amd","window","global","self","this","Flowly","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","resizeListener","win","target","srcElement","__resizeRAF__","cancelFrame","requestFrame","trigger","__resizeTrigger__","__resizeListeners__","forEach","fn","raf","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","func","setTimeout","cancel","cancelAnimationFrame","mozCancelAnimationFrame","webkitCancelAnimationFrame","clearTimeout","id","element","isIE","document","attachEvent","navigator","userAgent","match","getComputedStyle","position","style","obj","createElement","setAttribute","__resizeElement__","onload","contentDocument","defaultView","addEventListener","type","appendChild","data","push","bind","unbind","splice","indexOf","detachEvent","removeEventListener","removeChild","_utils","Base","_classCallCheck","token","randomStr","elem","left","rect","width","top","rand","height","clientHeight","clientWidth","opacity","transform","timing","iterations","duration","easing","text","opts","FlowlyText","options","_this","_possibleConstructorReturn","__proto__","Object","getPrototypeOf","_createText","color","shadow","size","weight","className","fontSize","fontWeight","textShadow","whiteSpace","zIndex","innerText","body","effect","onfinish","animate","display","arguments","undefined","app","querySelector","overflow","getBoundingClientRect","assign","_defaultOptions","elems","Map","_elementResizeEvent2","default","resize","image","disable","_createImage","_this2","_text2","set","_effect","direction","addAnimation","delete","flag","show","hide","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","values","Symbol","iterator","next","done","value","err","return","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","update","_this3","offsetWidth","src","url","min","max","Math","floor","random","toString"],"mappings":"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","file":"flowly.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","var requestFrame = (function () {\n  var window = this\n  var raf = window.requestAnimationFrame ||\n    window.mozRequestAnimationFrame ||\n    window.webkitRequestAnimationFrame ||\n    function fallbackRAF(func) {\n      return window.setTimeout(func, 20)\n    }\n  return function requestFrameFunction(func) {\n    return raf(func)\n  }\n})()\n\nvar cancelFrame = (function () {\n  var window = this\n  var cancel = window.cancelAnimationFrame ||\n    window.mozCancelAnimationFrame ||\n    window.webkitCancelAnimationFrame ||\n    window.clearTimeout\n  return function cancelFrameFunction(id) {\n    return cancel(id)\n  }\n})()\n\nfunction resizeListener(e) {\n  var win = e.target || e.srcElement\n  if (win.__resizeRAF__) {\n    cancelFrame(win.__resizeRAF__)\n  }\n  win.__resizeRAF__ = requestFrame(function () {\n    var trigger = win.__resizeTrigger__\n    trigger.__resizeListeners__.forEach(function (fn) {\n      fn.call(trigger, e)\n    })\n  })\n}\n\nvar exports = function exports(element, fn) {\n  var window = this\n  var document = window.document\n  var isIE\n\n  var attachEvent = document.attachEvent\n  if (typeof navigator !== 'undefined') {\n    isIE = navigator.userAgent.match(/Trident/) ||\n      navigator.userAgent.match(/Edge/)\n  }\n\n  function objectLoad() {\n    this.contentDocument.defaultView.__resizeTrigger__ = this.__resizeElement__\n    this.contentDocument.defaultView.addEventListener('resize', resizeListener)\n  }\n\n  if (!element.__resizeListeners__) {\n    element.__resizeListeners__ = []\n    if (attachEvent) {\n      element.__resizeTrigger__ = element\n      element.attachEvent('onresize', resizeListener)\n    } else {\n      if (getComputedStyle(element).position === 'static') {\n        element.style.position = 'relative'\n      }\n      var obj = (element.__resizeTrigger__ = document.createElement('object'))\n      obj.setAttribute(\n        'style',\n        'display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1; opacity: 0;'\n      )\n      obj.setAttribute('class', 'resize-sensor')\n      obj.__resizeElement__ = element\n      obj.onload = objectLoad\n      obj.type = 'text/html'\n      if (isIE) {\n        element.appendChild(obj)\n      }\n      obj.data = 'about:blank'\n      if (!isIE) {\n        element.appendChild(obj)\n      }\n    }\n  }\n  element.__resizeListeners__.push(fn)\n}\n\nmodule.exports = typeof window === 'undefined' ? exports : exports.bind(window)\n\nmodule.exports.unbind = function (element, fn) {\n  var attachEvent = document.attachEvent\n  if (fn) {\n    element.__resizeListeners__.splice(\n      element.__resizeListeners__.indexOf(fn),\n      1\n    )\n  } else {\n    element.__resizeListeners__ = []\n  }\n  if (!element.__resizeListeners__.length) {\n    if (attachEvent) {\n      element.detachEvent('onresize', resizeListener)\n    } else {\n      element.__resizeTrigger__.contentDocument.defaultView.removeEventListener(\n        'resize',\n        resizeListener\n      )\n      delete element.__resizeTrigger__.contentDocument.defaultView.__resizeTrigger__\n      element.__resizeTrigger__ = !element.removeChild(\n        element.__resizeTrigger__\n      )\n    }\n    delete element.__resizeListeners__\n  }\n}\n","import { randomStr } from '../utils'\n\nexport default class Base {\n  constructor() {\n    this.token = randomStr()\n  }\n\n  _createEffect(elem, type) {\n    if (type === 'horizontal') {\n      elem.style.left = (this.rect.left + this.rect.width) + 'px'\n      elem.style.top  = rand(0, this.rect.height - elem.clientHeight) + 'px'\n\n      return [{\n        left: this.rect.width + 'px'\n      }, {\n        left: (-elem.clientWidth) + 'px'\n      }]\n    } else if (type === 'vertical') {\n      elem.style.left = rand(0, this.rect.width - elem.clientWidth) + 'px'\n      elem.style.top  = (-elem.clientWidth) + 'px'\n\n      return [{\n        top: (-elem.clientHeight) + 'px'\n      }, {\n        top: this.rect.height + 'px'\n      }]\n    } else if (type === 'random') {\n      elem.style.opacity = 0.0\n      elem.style.left    = rand(0, this.rect.width) - elem.clientWidth / 2 + 'px'\n      elem.style.top     = rand(0, this.rect.height) - elem.clientHeight / 2 + 'px'\n\n      return [{\n        opacity: 0.0,\n        transform: 'scale(0.2, 0.2) translate(0, 20px)'\n      }, {\n        opacity: 1.0,\n        transform: 'scale(0.5, 0.5) translate(0, 0px)'\n      }, {\n        opacity: 0.0,\n        transform: 'scale(1.0, 1.0) translate(0, -50px)'\n      }]\n    }\n  }\n\n  _createTiming() {\n    let timing = {}\n    timing.iterations = 1\n    timing.duration = 3000 // (text.duration || this.opts.duration) * (this.app.clientWidth + t.offsetWidth) / this.app.clientWidth\n    timing.easing = text.easing || this.opts.easing\n  }\n}\n","import Base from './base'\n\nexport default class FlowlyText extends Base {\n  constructor(text, options) {\n    super()\n    this.opts = options\n    this.elem = this._createText(text)\n  }\n\n  _createText(text) {\n    const color  = text.color  || this.opts.text.color\n    const shadow = text.shadow || this.opts.text.shadow\n    const size   = text.size   || this.opts.text.size\n    const weight = text.weight || this.opts.text.weight\n    const t = document.createElement('span')\n\n    t.className        = text.className || this.opts.text.className\n    t.style.position   = 'absolute'\n    t.style.fontSize   = size + 'px'\n    t.style.fontWeight = weight\n    t.style.color      = color\n    t.style.textShadow = `-2px -2px 0px ${shadow}, -2px 2px 0px ${shadow}, 2px -2px 0px ${shadow}, 2px 2px 0px ${shadow}`\n    t.style.whiteSpace = this.opts.text.whiteSpace\n    t.style.zIndex     = this.opts.text.zIndex\n\n    t.innerText = text.body\n\n    return t\n  }\n\n  addAnimation(effect, timing, onfinish) {\n    this.elem.animate(effect, timing).onfinish = onfinish\n  }\n\n  hide() {\n    this.elem.style.display = 'none'\n  }\n\n  show() {\n    this.elem.style.display = 'block'\n  }\n}\n","import elementResizeEvent from 'element-resize-event'\nimport FlowlyText from './flowly/text'\nimport { rand, randomStr } from './utils'\n\nclass Flowly {\n  constructor(elem, options = {}) {\n    /* APP */\n    this.elem = elem\n    this.app = document.querySelector(elem)\n    this.app.style.position = 'relative'\n    this.app.style.overflow = 'hidden'\n\n    this.rect = this.app.getBoundingClientRect()\n    this.opts = Object.assign(this._defaultOptions(), options)\n\n    this.elems = new Map()\n    elementResizeEvent(this.app, () => { this.resize() })\n  }\n\n  addImage(image) {\n    if (this.opts.disable) return\n\n    const t = this._createImage(image)\n  }\n\n  addText(text) {\n    if (this.opts.disable) return\n\n    const t = new FlowlyText(text, this.opts)\n    this.app.appendChild(t.elem)\n    this.elems.set(t.token, t)\n\n    // const t = this._createText(text)\n    // this.app.appendChild(t)\n    let timing = {}\n    timing.iterations = 1\n    timing.duration = 3000 //(text.duration || this.opts.duration) * (this.app.clientWidth + t.offsetWidth) / this.app.clientWidth\n    timing.easing = text.easing || this.opts.easing\n\n    const effect = this._effect(t.elem, this.opts.direction)\n    t.addAnimation(effect, timing, () => {\n      this.app.removeChild(t.elem)\n      this.elems.delete(t.token)\n    })\n  }\n\n  // if true show text, if false hide text\n  toggle(flag) {\n    if (flag) this.show()\n    else this.hide()\n  }\n\n  hide() {\n    for (let elem of this.elems.values()) {\n      elem.hide()\n      //elem.style.display = 'none'\n    }\n  }\n\n  show() {\n    for (let elem of this.elems.values()) {\n      elem.show()\n      //elem.style.display = 'block'\n    }\n  }\n\n  resize() {\n    this.app = document.querySelector(this.elem)\n    this.app.style.position = 'relative'\n    this.app.style.overflow = 'hidden'\n    this.rect = this.app.getBoundingClientRect()\n  }\n\n  update(options = {}) {\n    this.opts = Object.assign(this.opts, options)\n  }\n\n  unbind() {\n    elementResizeEvent.unbind(this.app)\n    this.update({ disable: true })\n  }\n\n  _createText(text) {\n    const color  = text.color  || this.opts.text.color\n    const shadow = text.shadow || this.opts.text.shadow\n    const size   = text.size   || this.opts.text.size\n    const weight = text.weight || this.opts.text.weight\n    const t = document.createElement('span')\n\n    t.className        = text.className || this.opts.text.className\n    t.style.position   = 'absolute'\n    t.style.fontSize   = size + 'px'\n    t.style.fontWeight = weight\n    t.style.color      = color\n    t.style.textShadow = `-2px -2px 0px ${shadow}, -2px 2px 0px ${shadow}, 2px -2px 0px ${shadow}, 2px 2px 0px ${shadow}`\n    t.style.whiteSpace = this.opts.text.whiteSpace\n    t.style.zIndex     = this.opts.text.zIndex\n\n    t.innerText = text.body\n\n    return t\n  }\n\n  _createImage(image) {\n    const t = document.createElement('img')\n\n    t.style.position = 'fixed'\n    t.style.width  = image.width\n    t.style.height = image.height\n    t.style.zIndex = 2147483647\n    t.style.left   = this.rect.width + t.clientWidth + 'px'\n    t.style.top    = rand(this.rect.top, this.rect.height - t.clientHeight) + 'px'\n\n    t.addEventListener('load', (e) => {\n      const effect = this._effect(t, this.opts.direction)\n\n      let timing = {}\n      timing.iterations = 1\n      timing.duration = (image.duration || this.opts.duration) * (this.app.clientWidth + t.offsetWidth) / this.app.clientWidth\n      timing.easing = image.easing || this.opts.easing\n\n      const token = randomStr()\n      this.elems.set(token, t)\n\n      t.animate(effect, timing).onfinish = () => {\n        this.app.removeChild(t)\n        this.elems.delete(token)\n      }\n    })\n\n    t.src = image.url\n    this.app.appendChild(t)\n    return t\n  }\n\n  _effect(elem, type) {\n    if (type === 'horizontal') {\n      elem.style.left = (this.rect.left + this.rect.width) + 'px'\n      elem.style.top  = rand(0, this.rect.height - elem.clientHeight) + 'px'\n\n      return [{\n        left: this.rect.width + 'px'\n      }, {\n        left: (-elem.clientWidth) + 'px'\n      }]\n    } else if (type === 'vertical') {\n      elem.style.left = rand(0, this.rect.width - elem.clientWidth) + 'px'\n      elem.style.top  = (-elem.clientWidth) + 'px'\n\n      return [{\n        top: (-elem.clientHeight) + 'px'\n      }, {\n        top: this.rect.height + 'px'\n      }]\n    } else if (type === 'random') {\n      elem.style.opacity = 0.0\n      elem.style.left    = rand(0, this.rect.width) - elem.clientWidth / 2 + 'px'\n      elem.style.top     = rand(0, this.rect.height) - elem.clientHeight / 2 + 'px'\n\n      return [{\n        opacity: 0.0,\n        transform: 'scale(0.2, 0.2) translate(0, 20px)'\n      }, {\n        opacity: 1.0,\n        transform: 'scale(0.5, 0.5) translate(0, 0px)'\n      }, {\n        opacity: 0.0,\n        transform: 'scale(1.0, 1.0) translate(0, -50px)'\n      }]\n    }\n  }\n\n  _defaultOptions() {\n    return {\n      text: {\n        weight: 'bold',\n        size  : 56,\n        color : '#000',\n        shadow: '#fff',\n        className: 'flowly-text',\n        whiteSpace: 'nowrap' || 'pre',\n        zIndex: 2147483647,\n      },\n      disable: false,\n      duration: 2000,\n      easing: 'linear',\n      direction: 'horizontal',\n    }\n  }\n}\n\nmodule.exports = Flowly\n","const rand = (min, max) => {\n  return Math.floor(Math.random() * (max - min) + min)\n}\n\nconst randomStr = (length = 32) => {\n  let s = ''\n  for (let i = 0; i < length; i++) {\n    const random = Math.random() * 16 | 0\n    s += (i == 12 ? 4 : (i == 16 ? (random & 3 | 8) : random)).toString(16)\n  }\n  return s\n}\n\nmodule.exports = {\n  rand,\n  randomStr\n}\n"]}