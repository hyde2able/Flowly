{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/index.js","src/utils.js"],"names":["f","exports","module","define","amd","window","global","self","this","Flowly","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","_utils","elem","options","arguments","undefined","_classCallCheck","app","document","querySelector","rect","getBoundingClientRect","opts","Object","assign","_defaultOptions","style","position","overflow","text","_this","_createText","appendChild","effect","direction","left","width","top","rand","height","clientHeight","clientWidth","timing","iterations","duration","offsetWidth","easing","animate","onfinish","removeChild","console","log","color","shadow","size","weight","createElement","className","fontSize","fontWeight","textShadow","whiteSpace","zIndex","innerText","body","min","max","Math","floor","random"],"mappings":"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","file":"flowly.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","import { rand } from './utils'\n\nclass Flowly {\n  constructor(elem, options = {}) {\n    this.app = document.querySelector(elem)\n    this.rect = this.app.getBoundingClientRect()\n    this.opts = Object.assign(this._defaultOptions(), options)\n\n    this.app.style.position = 'relative'\n    this.app.style.overflow = 'hidden'\n  }\n\n  addText(text) {\n    const t = this._createText(text)\n    this.app.appendChild(t)\n\n    let effect\n    if (this.opts.direction === 'horizontal') {\n      t.style.left = `${this.rect.left + this.rect.width}px`\n      t.style.top  = rand(0, this.rect.height - t.clientHeight) + 'px'\n      effect = [{\n        left: `${this.rect.width}px`\n      }, {\n        left: `${-t.clientWidth}px`\n      }]\n    } else if (this.opts.direction === 'vertical') {\n      t.style.left = rand(0, this.rect.width - t.clientWidth) + 'px'\n      t.style.top  = `${-t.clientHeight}px`\n      effect = [{\n        top: `${-t.clientHeight}px`,\n      }, {\n        top: `${this.rect.height}px`\n      }]\n    }\n\n    let timing = {}\n    timing.iterations = 1\n    timing.duration = (text.duration || this.opts.duration) * (this.app.clientWidth + t.offsetWidth) / this.app.clientWidth\n    timing.easing = text.easing || this.opts.easing\n\n    t.animate(effect, timing).onfinish = () => {\n      this.app.removeChild(t)\n    }\n  }\n\n  hide() {\n\n  }\n\n  show() {\n\n  }\n\n  update(options = {}) {\n    console.log(options)\n    this.opts = Object.assign(this.opts, options)\n  }\n\n  _createText(text) {\n    const color  = text.color  || this.opts.text.color\n    const shadow = text.shadow || this.opts.text.shadow\n    const size   = text.size   || this.opts.text.size\n    const weight = text.weight || this.opts.text.weight\n    const t = document.createElement('span')\n\n    t.className        = text.className || this.opts.text.className\n    t.style.position   = 'absolute'\n    t.style.fontSize   = size + 'px'\n    t.style.fontWeight = weight\n    t.style.color      = color\n    t.style.textShadow = `-2px -2px 0px ${shadow}, -2px 2px 0px ${shadow}, 2px -2px 0px ${shadow}, 2px 2px 0px ${shadow}`\n    t.style.whiteSpace = this.opts.text.whiteSpace\n    t.style.zIndex     = this.opts.text.zIndex\n\n    t.innerText = text.body\n\n    return t\n  }\n\n  _defaultOptions() {\n    return {\n      text: {\n        weight: 'bold',\n        size  : 56,\n        color : '#000',\n        shadow: '#fff',\n        className: 'flowly-text',\n        whiteSpace: 'nowrap' || 'pre',\n        zIndex: 2147483647,\n      },\n      duration: 2000,\n      easing: 'linear',\n      direction: 'horizontal',\n    }\n  }\n}\n\nmodule.exports = Flowly\n","const rand = (min, max) => {\n  return Math.floor(Math.random() * (max - min) + min)\n}\n\nmodule.exports = {\n  rand\n}\n"]}