{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/index.js","src/utils.js"],"names":["f","exports","module","define","amd","window","global","self","this","Flowly","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","_utils","elem","options","arguments","undefined","_classCallCheck","app","document","querySelector","rect","getBoundingClientRect","opts","Object","assign","_defaultOptions","style","position","overflow","text","_this","_createText","appendChild","effect","direction","left","width","clientWidth","timing","iterations","duration","offsetWidth","easing","animate","onfinish","removeChild","color","shadow","size","weight","createElement","className","top","rand","height","fontSize","fontWeight","textShadow","whiteSpace","zIndex","innerText","body","min","max","Math","floor","random"],"mappings":"CAAA,SAAAA,GAAA,GAAA,iBAAAC,SAAA,oBAAAC,OAAAA,OAAAD,QAAAD,SAAA,GAAA,mBAAAG,QAAAA,OAAAC,IAAAD,UAAAH,OAAA,EAAA,oBAAAK,OAAAA,OAAA,oBAAAC,OAAAA,OAAA,oBAAAC,KAAAA,KAAAC,MAAAC,OAAAT,KAAA,CAAA,WAAA,OAAA,SAAAU,EAAAC,EAAAC,EAAAC,GAAA,SAAAC,EAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,IAAAE,EAAA,mBAAAC,SAAAA,QAAA,IAAAF,GAAAC,EAAA,OAAAA,EAAAF,GAAA,GAAA,GAAAI,EAAA,OAAAA,EAAAJ,GAAA,GAAA,IAAAf,EAAA,IAAAoB,MAAA,uBAAAL,EAAA,KAAA,MAAAf,EAAAqB,KAAA,mBAAArB,EAAA,IAAAsB,EAAAV,EAAAG,IAAAd,YAAAU,EAAAI,GAAA,GAAAQ,KAAAD,EAAArB,QAAA,SAAAS,GAAA,IAAAE,EAAAD,EAAAI,GAAA,GAAAL,GAAA,OAAAI,EAAAF,GAAAF,IAAAY,EAAAA,EAAArB,QAAAS,EAAAC,EAAAC,EAAAC,GAAA,OAAAD,EAAAG,GAAAd,QAAA,IAAA,IAAAkB,EAAA,mBAAAD,SAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAW,OAAAT,IAAAD,EAAAD,EAAAE,IAAA,OAAAD,EAAA,EAAAW,GAAA,SAAAP,EAAAhB,EAAAD,uWCAAyB,EAAAR,EAAA,WAEMT,aACJ,SAAAA,EAAYkB,GAAoB,IAAdC,EAAcC,UAAAL,OAAA,QAAAM,IAAAD,UAAA,GAAAA,UAAA,MAAAE,EAAAvB,KAAAC,GAC9BD,KAAKwB,IAAMC,SAASC,cAAcP,GAClCnB,KAAK2B,KAAO3B,KAAKwB,IAAII,wBACrB5B,KAAK6B,KAAOC,OAAOC,OAAO/B,KAAKgC,kBAAmBZ,GAElDpB,KAAKwB,IAAIS,MAAMC,SAAW,WAC1BlC,KAAKwB,IAAIS,MAAME,SAAW,mDAGpBC,GAAM,IAAAC,EAAArC,KACNG,EAAIH,KAAKsC,YAAYF,GAC3BpC,KAAKwB,IAAIe,YAAYpC,GAErB,IAAIqC,OAAA,EACwB,eAAxBxC,KAAK6B,KAAKY,UACZD,IACEE,KAAS1C,KAAK2B,KAAKgB,MAAnB,OAEAD,MAAUvC,EAAEyC,YAAZ,OAE+B,aAAxB5C,KAAK6B,KAAKY,YACnBD,MAGF,IAAIK,KACJA,EAAOC,WAAa,EACpBD,EAAOE,UAAYX,EAAKW,UAAY/C,KAAK6B,KAAKkB,WAAa/C,KAAKwB,IAAIoB,YAAczC,EAAE6C,aAAehD,KAAKwB,IAAIoB,YAC5GC,EAAOI,OAASb,EAAKa,QAAUjD,KAAK6B,KAAKoB,OAEzC9C,EAAE+C,QAAQV,EAAQK,GAAQM,SAAW,WACnCd,EAAKb,IAAI4B,YAAYjD,qEAQJ,IAAdiB,EAAcC,UAAAL,OAAA,QAAAM,IAAAD,UAAA,GAAAA,UAAA,MACnBrB,KAAK6B,KAAOC,OAAOC,OAAO/B,KAAK6B,KAAMT,uCAG3BgB,GACV,IAAMiB,EAASjB,EAAKiB,OAAUrD,KAAK6B,KAAKO,KAAKiB,MACvCC,EAASlB,EAAKkB,QAAUtD,KAAK6B,KAAKO,KAAKkB,OACvCC,EAASnB,EAAKmB,MAAUvD,KAAK6B,KAAKO,KAAKmB,KACvCC,EAASpB,EAAKoB,QAAUxD,KAAK6B,KAAKO,KAAKoB,OACvCrD,EAAIsB,SAASgC,cAAc,QAejC,OAbAtD,EAAEuD,UAAmBtB,EAAKsB,WAAa1D,KAAK6B,KAAKO,KAAKsB,UACtDvD,EAAE8B,MAAMC,SAAa,WACrB/B,EAAE8B,MAAMS,KAAgB1C,KAAK2B,KAAKe,KAAO1C,KAAK2B,KAAKgB,MAAnD,KACAxC,EAAE8B,MAAM0B,KAAa,EAAAzC,EAAA0C,MAAK,EAAG5D,KAAK2B,KAAKkC,OAASN,GAAQ,KACxDpD,EAAE8B,MAAM6B,SAAaP,EAAO,KAC5BpD,EAAE8B,MAAM8B,WAAaP,EACrBrD,EAAE8B,MAAMoB,MAAaA,EACrBlD,EAAE8B,MAAM+B,WAAR,iBAAsCV,EAAtC,kBAA8DA,EAA9D,kBAAsFA,EAAtF,iBAA6GA,EAC7GnD,EAAE8B,MAAMgC,WAAajE,KAAK6B,KAAKO,KAAK6B,WACpC9D,EAAE8B,MAAMiC,OAAalE,KAAK6B,KAAKO,KAAK8B,OAEpC/D,EAAEgE,UAAY/B,EAAKgC,KAEZjE,4CAIP,OACEiC,MACEoB,OAAQ,OACRD,KAAQ,GACRF,MAAQ,OACRC,OAAQ,OACRI,UAAW,cACXO,WAAY,SACZC,OAAQ,YAEVnB,SAAU,IACVE,OAAQ,SACRR,UAAW,uBAKjB/C,EAAOD,QAAUQ,kDClFjBP,EAAOD,SACLmE,KALW,SAACS,EAAKC,GACjB,OAAOC,KAAKC,MAAMD,KAAKE,UAAYH,EAAMD,GAAOA","file":"flowly.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","import { rand } from './utils'\n\nclass Flowly {\n  constructor(elem, options = {}) {\n    this.app = document.querySelector(elem)\n    this.rect = this.app.getBoundingClientRect()\n    this.opts = Object.assign(this._defaultOptions(), options)\n\n    this.app.style.position = 'relative'\n    this.app.style.overflow = 'hidden'\n  }\n\n  addText(text) {\n    const t = this._createText(text)\n    this.app.appendChild(t)\n\n    let effect\n    if (this.opts.direction === 'horizontal') {\n      effect = [{\n        left: `${this.rect.width}px`\n      }, {\n        left: `${-t.clientWidth}px`\n      }]\n    } else if (this.opts.direction === 'vertical') {\n      effect = []\n    }\n\n    let timing = {}\n    timing.iterations = 1\n    timing.duration = (text.duration || this.opts.duration) * (this.app.clientWidth + t.offsetWidth) / this.app.clientWidth\n    timing.easing = text.easing || this.opts.easing\n\n    t.animate(effect, timing).onfinish = () => {\n      this.app.removeChild(t)\n    }\n  }\n\n  hide() {\n\n  }\n\n  update(options = {}) {\n    this.opts = Object.assign(this.opts, options)\n  }\n\n  _createText(text) {\n    const color  = text.color  || this.opts.text.color\n    const shadow = text.shadow || this.opts.text.shadow\n    const size   = text.size   || this.opts.text.size\n    const weight = text.weight || this.opts.text.weight\n    const t = document.createElement('span')\n\n    t.className        = text.className || this.opts.text.className\n    t.style.position   = 'absolute'\n    t.style.left       = `${this.rect.left + this.rect.width}px`\n    t.style.top        = rand(0, this.rect.height - size) + 'px'\n    t.style.fontSize   = size + 'px'\n    t.style.fontWeight = weight\n    t.style.color      = color\n    t.style.textShadow = `-2px -2px 0px ${shadow}, -2px 2px 0px ${shadow}, 2px -2px 0px ${shadow}, 2px 2px 0px ${shadow}`\n    t.style.whiteSpace = this.opts.text.whiteSpace\n    t.style.zIndex     = this.opts.text.zIndex\n\n    t.innerText = text.body\n\n    return t\n  }\n\n  _defaultOptions() {\n    return {\n      text: {\n        weight: 'bold',\n        size  : 56,\n        color : '#000',\n        shadow: '#fff',\n        className: 'flowly-text',\n        whiteSpace: 'nowrap' || 'pre',\n        zIndex: 2147483647,\n      },\n      duration: 2000,\n      easing: 'linear',\n      direction: 'horizontal',\n    }\n  }\n}\n\nmodule.exports = Flowly\n","const rand = (min, max) => {\n  return Math.floor(Math.random() * (max - min) + min)\n}\n\nmodule.exports = {\n  rand\n}\n"]}