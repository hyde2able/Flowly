!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Flowly=e()}}(function(){return function e(t,i,n){function r(s,a){if(!i[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=i[s]={exports:{}};t[s][0].call(u.exports,function(e){var i=t[s][1][e];return r(i||e)},u,u.exports,e,t,i,n)}return i[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)r(n[s]);return r}({1:[function(e,t,i){function n(e){var t=e.target||e.srcElement;t.__resizeRAF__&&o(t.__resizeRAF__),t.__resizeRAF__=r(function(){var i=t.__resizeTrigger__;i.__resizeListeners__.forEach(function(t){t.call(i,e)})})}var r=function(){var e=this,t=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||function(t){return e.setTimeout(t,20)};return function(e){return t(e)}}(),o=function(){var e=this,t=e.cancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelAnimationFrame||e.clearTimeout;return function(e){return t(e)}}(),i=function(e,t){var i,r=this.document,o=r.attachEvent;if("undefined"!=typeof navigator&&(i=navigator.userAgent.match(/Trident/)||navigator.userAgent.match(/Edge/)),!e.__resizeListeners__)if(e.__resizeListeners__=[],o)e.__resizeTrigger__=e,e.attachEvent("onresize",n);else{"static"===getComputedStyle(e).position&&(e.style.position="relative");var s=e.__resizeTrigger__=r.createElement("object");s.setAttribute("style","display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1; opacity: 0;"),s.setAttribute("class","resize-sensor"),s.__resizeElement__=e,s.onload=function(){this.contentDocument.defaultView.__resizeTrigger__=this.__resizeElement__,this.contentDocument.defaultView.addEventListener("resize",n)},s.type="text/html",i&&e.appendChild(s),s.data="about:blank",i||e.appendChild(s)}e.__resizeListeners__.push(t)};t.exports="undefined"==typeof window?i:i.bind(window),t.exports.unbind=function(e,t){var i=document.attachEvent;t?e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1):e.__resizeListeners__=[],e.__resizeListeners__.length||(i?e.detachEvent("onresize",n):(e.__resizeTrigger__.contentDocument.defaultView.removeEventListener("resize",n),delete e.__resizeTrigger__.contentDocument.defaultView.__resizeTrigger__,e.__resizeTrigger__=!e.removeChild(e.__resizeTrigger__)),delete e.__resizeListeners__)}},{}],2:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=e("../utils"),s=function(){function e(){n(this,e),this.token=(0,o.randomStr)()}return r(e,[{key:"_createEffect",value:function(e,t){return"horizontal"===t?(e.style.left=this.rect.left+this.rect.width+"px",e.style.top=rand(0,this.rect.height-e.clientHeight)+"px",[{left:this.rect.width+"px"},{left:-e.clientWidth+"px"}]):"vertical"===t?(e.style.left=rand(0,this.rect.width-e.clientWidth)+"px",e.style.top=-e.clientWidth+"px",[{top:-e.clientHeight+"px"},{top:this.rect.height+"px"}]):"random"===t?(e.style.opacity=0,e.style.left=rand(0,this.rect.width)-e.clientWidth/2+"px",e.style.top=rand(0,this.rect.height)-e.clientHeight/2+"px",[{opacity:0,transform:"scale(0.2, 0.2) translate(0, 20px)"},{opacity:1,transform:"scale(0.5, 0.5) translate(0, 0px)"},{opacity:0,transform:"scale(1.0, 1.0) translate(0, -50px)"}]):void 0}},{key:"_createTiming",value:function(){var e={};e.iterations=1,e.duration=3e3,e.easing=text.easing||this.opts.easing}}]),e}();i.default=s},{"../utils":5}],3:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(e){return e&&e.__esModule?e:{default:e}}(e("./base")),l=function(e){function t(e,i){n(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.opts=i,o.elem=o._createText(e),o}return o(t,a.default),s(t,[{key:"_createText",value:function(e){var t=e.color||this.opts.text.color,i=e.shadow||this.opts.text.shadow,n=e.size||this.opts.text.size,r=e.weight||this.opts.text.weight,o=document.createElement("span");return o.className=e.className||this.opts.text.className,o.style.position="absolute",o.style.fontSize=n+"px",o.style.fontWeight=r,o.style.color=t,o.style.textShadow="-2px -2px 0px "+i+", -2px 2px 0px "+i+", 2px -2px 0px "+i+", 2px 2px 0px "+i,o.style.whiteSpace=this.opts.text.whiteSpace,o.style.zIndex=this.opts.text.zIndex,o.innerText=e.body,o}},{key:"addAnimation",value:function(e,t,i){this.elem.animate(e,t).onfinish=i}},{key:"hide",value:function(){this.elem.style.display="none"}},{key:"show",value:function(){this.elem.style.display="block"}}]),t}();i.default=l},{"./base":2}],4:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=n(e("element-resize-event")),a=n(e("./flowly/text")),l=e("./utils"),c=function(){function e(t){var i=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e),this.elem=t,this.app=document.querySelector(t),this.app.style.position="relative",this.app.style.overflow="hidden",this.rect=this.app.getBoundingClientRect(),this.opts=Object.assign(this._defaultOptions(),n),this.elems=new Map,(0,s.default)(this.app,function(){i.resize()})}return o(e,[{key:"addImage",value:function(e){if(!this.opts.disable)this._createImage(e)}},{key:"addText",value:function(e){var t=this;if(!this.opts.disable){var i=new a.default(e,this.opts);this.app.appendChild(i.elem),this.elems.set(i.token,i);var n={};n.iterations=1,n.duration=3e3,n.easing=e.easing||this.opts.easing;var r=this._effect(i.elem,this.opts.direction);i.addAnimation(r,n,function(){t.app.removeChild(i.elem),t.elems.delete(i.token)})}}},{key:"toggle",value:function(e){e?this.show():this.hide()}},{key:"hide",value:function(){var e=!0,t=!1,i=void 0;try{for(var n,r=this.elems.values()[Symbol.iterator]();!(e=(n=r.next()).done);e=!0)n.value.hide()}catch(e){t=!0,i=e}finally{try{!e&&r.return&&r.return()}finally{if(t)throw i}}}},{key:"show",value:function(){var e=!0,t=!1,i=void 0;try{for(var n,r=this.elems.values()[Symbol.iterator]();!(e=(n=r.next()).done);e=!0)n.value.show()}catch(e){t=!0,i=e}finally{try{!e&&r.return&&r.return()}finally{if(t)throw i}}}},{key:"resize",value:function(){this.app=document.querySelector(this.elem),this.app.style.position="relative",this.app.style.overflow="hidden",this.rect=this.app.getBoundingClientRect()}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.opts=Object.assign(this.opts,e)}},{key:"unbind",value:function(){s.default.unbind(this.app),this.update({disable:!0})}},{key:"_createText",value:function(e){var t=e.color||this.opts.text.color,i=e.shadow||this.opts.text.shadow,n=e.size||this.opts.text.size,r=e.weight||this.opts.text.weight,o=document.createElement("span");return o.className=e.className||this.opts.text.className,o.style.position="absolute",o.style.fontSize=n+"px",o.style.fontWeight=r,o.style.color=t,o.style.textShadow="-2px -2px 0px "+i+", -2px 2px 0px "+i+", 2px -2px 0px "+i+", 2px 2px 0px "+i,o.style.whiteSpace=this.opts.text.whiteSpace,o.style.zIndex=this.opts.text.zIndex,o.innerText=e.body,o}},{key:"_createImage",value:function(e){var t=this,i=document.createElement("img");return i.style.position="fixed",i.style.width=e.width,i.style.height=e.height,i.style.zIndex=2147483647,i.style.left=this.rect.width+i.clientWidth+"px",i.style.top=(0,l.rand)(this.rect.top,this.rect.height-i.clientHeight)+"px",i.addEventListener("load",function(n){var r=t._effect(i,t.opts.direction),o={};o.iterations=1,o.duration=(e.duration||t.opts.duration)*(t.app.clientWidth+i.offsetWidth)/t.app.clientWidth,o.easing=e.easing||t.opts.easing;var s=(0,l.randomStr)();t.elems.set(s,i),i.animate(r,o).onfinish=function(){t.app.removeChild(i),t.elems.delete(s)}}),i.src=e.url,this.app.appendChild(i),i}},{key:"_effect",value:function(e,t){return"horizontal"===t?(e.style.left=this.rect.left+this.rect.width+"px",e.style.top=(0,l.rand)(0,this.rect.height-e.clientHeight)+"px",[{left:this.rect.width+"px"},{left:-e.clientWidth+"px"}]):"vertical"===t?(e.style.left=(0,l.rand)(0,this.rect.width-e.clientWidth)+"px",e.style.top=-e.clientWidth+"px",[{top:-e.clientHeight+"px"},{top:this.rect.height+"px"}]):"random"===t?(e.style.opacity=0,e.style.left=(0,l.rand)(0,this.rect.width)-e.clientWidth/2+"px",e.style.top=(0,l.rand)(0,this.rect.height)-e.clientHeight/2+"px",[{opacity:0,transform:"scale(0.2, 0.2) translate(0, 20px)"},{opacity:1,transform:"scale(0.5, 0.5) translate(0, 0px)"},{opacity:0,transform:"scale(1.0, 1.0) translate(0, -50px)"}]):void 0}},{key:"_defaultOptions",value:function(){return{text:{weight:"bold",size:56,color:"#000",shadow:"#fff",className:"flowly-text",whiteSpace:"nowrap",zIndex:2147483647},disable:!1,duration:2e3,easing:"linear",direction:"horizontal"}}}]),e}();t.exports=c},{"./flowly/text":3,"./utils":5,"element-resize-event":1}],5:[function(e,t,i){"use strict";t.exports={rand:function(e,t){return Math.floor(Math.random()*(t-e)+e)},randomStr:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,t="",i=0;i<e;i++){var n=16*Math.random()|0;t+=(12==i?4:16==i?3&n|8:n).toString(16)}return t}}},{}]},{},[4])(4)});
//# sourceMappingURL=flowly.min.js.map
