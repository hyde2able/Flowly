!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Flowly=e()}}(function(){return function e(t,i,n){function r(o,a){if(!i[o]){if(!t[o]){var l="function"==typeof require&&require;if(!a&&l)return l(o,!0);if(s)return s(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var u=i[o]={exports:{}};t[o][0].call(u.exports,function(e){var i=t[o][1][e];return r(i||e)},u,u.exports,e,t,i,n)}return i[o].exports}for(var s="function"==typeof require&&require,o=0;o<n.length;o++)r(n[o]);return r}({1:[function(e,t,i){function n(e){var t=e.target||e.srcElement;t.__resizeRAF__&&s(t.__resizeRAF__),t.__resizeRAF__=r(function(){var i=t.__resizeTrigger__;i.__resizeListeners__.forEach(function(t){t.call(i,e)})})}var r=function(){var e=this,t=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||function(t){return e.setTimeout(t,20)};return function(e){return t(e)}}(),s=function(){var e=this,t=e.cancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelAnimationFrame||e.clearTimeout;return function(e){return t(e)}}(),i=function(e,t){var i,r=this.document,s=r.attachEvent;if("undefined"!=typeof navigator&&(i=navigator.userAgent.match(/Trident/)||navigator.userAgent.match(/Edge/)),!e.__resizeListeners__)if(e.__resizeListeners__=[],s)e.__resizeTrigger__=e,e.attachEvent("onresize",n);else{"static"===getComputedStyle(e).position&&(e.style.position="relative");var o=e.__resizeTrigger__=r.createElement("object");o.setAttribute("style","display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1; opacity: 0;"),o.setAttribute("class","resize-sensor"),o.__resizeElement__=e,o.onload=function(){this.contentDocument.defaultView.__resizeTrigger__=this.__resizeElement__,this.contentDocument.defaultView.addEventListener("resize",n)},o.type="text/html",i&&e.appendChild(o),o.data="about:blank",i||e.appendChild(o)}e.__resizeListeners__.push(t)};t.exports="undefined"==typeof window?i:i.bind(window),t.exports.unbind=function(e,t){var i=document.attachEvent;t?e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1):e.__resizeListeners__=[],e.__resizeListeners__.length||(i?e.detachEvent("onresize",n):(e.__resizeTrigger__.contentDocument.defaultView.removeEventListener("resize",n),delete e.__resizeTrigger__.contentDocument.defaultView.__resizeTrigger__,e.__resizeTrigger__=!e.removeChild(e.__resizeTrigger__)),delete e.__resizeListeners__)}},{}],2:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=function(e){return e&&e.__esModule?e:{default:e}}(e("element-resize-event")),o=e("./utils"),a=function(){function e(t){var i=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(this,e),this.elem=t,this.app=document.querySelector(t),this.app.style.position="relative",this.app.style.overflow="hidden",this.rect=this.app.getBoundingClientRect(),this.opts=Object.assign(this._defaultOptions(),r),this.elems=new Map,(0,s.default)(this.app,function(){i.resize()})}return r(e,[{key:"addImage",value:function(e){if(!this.opts.disable)this._createImage(e)}},{key:"addText",value:function(e){var t=this;if(!this.opts.disable){var i=this._createText(e);this.app.appendChild(i);var n=this._effect(i,this.opts.direction),r={};r.iterations=1,r.duration=(e.duration||this.opts.duration)*(this.app.clientWidth+i.offsetWidth)/this.app.clientWidth,r.easing=e.easing||this.opts.easing;var s=(0,o.randomStr)();this.elems.set(s,i),i.animate(n,r).onfinish=function(){t.app.removeChild(i),t.elems.delete(s)}}}},{key:"toggle",value:function(e){e?this.show():this.hide()}},{key:"hide",value:function(){var e=!0,t=!1,i=void 0;try{for(var n,r=this.elems.values()[Symbol.iterator]();!(e=(n=r.next()).done);e=!0)n.value.style.display="none"}catch(e){t=!0,i=e}finally{try{!e&&r.return&&r.return()}finally{if(t)throw i}}}},{key:"show",value:function(){var e=!0,t=!1,i=void 0;try{for(var n,r=this.elems.values()[Symbol.iterator]();!(e=(n=r.next()).done);e=!0)n.value.style.display="block"}catch(e){t=!0,i=e}finally{try{!e&&r.return&&r.return()}finally{if(t)throw i}}}},{key:"resize",value:function(){this.app=document.querySelector(this.elem),this.app.style.position="relative",this.app.style.overflow="hidden",this.rect=this.app.getBoundingClientRect()}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.opts=Object.assign(this.opts,e)}},{key:"unbind",value:function(){s.default.unbind(this.app),this.update({disable:!0})}},{key:"_createText",value:function(e){var t=e.color||this.opts.text.color,i=e.shadow||this.opts.text.shadow,n=e.size||this.opts.text.size,r=e.weight||this.opts.text.weight,s=document.createElement("span");return s.className=e.className||this.opts.text.className,s.style.position="absolute",s.style.fontSize=n+"px",s.style.fontWeight=r,s.style.color=t,s.style.textShadow="-2px -2px 0px "+i+", -2px 2px 0px "+i+", 2px -2px 0px "+i+", 2px 2px 0px "+i,s.style.whiteSpace=this.opts.text.whiteSpace,s.style.zIndex=this.opts.text.zIndex,s.innerText=e.body,s}},{key:"_createImage",value:function(e){var t=this,i=document.createElement("img");return i.style.position="fixed",i.style.width=e.width,i.style.height=e.height,i.style.zIndex=2147483647,i.style.left=this.rect.width+i.clientWidth+"px",i.style.top=(0,o.rand)(this.rect.top,this.rect.height-i.clientHeight)+"px",i.addEventListener("load",function(n){var r=t._effect(i,t.opts.direction),s={};s.iterations=1,s.duration=(e.duration||t.opts.duration)*(t.app.clientWidth+i.offsetWidth)/t.app.clientWidth,s.easing=e.easing||t.opts.easing;var a=(0,o.randomStr)();t.elems.set(a,i),i.animate(r,s).onfinish=function(){t.app.removeChild(i),t.elems.delete(a)}}),i.src=e.url,this.app.appendChild(i),i}},{key:"_effect",value:function(e,t){return"horizontal"===t?(e.style.left=this.rect.left+this.rect.width+"px",e.style.top=(0,o.rand)(0,this.rect.height-e.clientHeight)+"px",[{left:this.rect.width+"px"},{left:-e.clientWidth+"px"}]):"vertical"===t?(e.style.left=(0,o.rand)(0,this.rect.width-e.clientWidth)+"px",e.style.top=-e.clientWidth+"px",[{top:-e.clientHeight+"px"},{top:this.rect.height+"px"}]):"random"===t?(e.style.opacity=0,e.style.left=(0,o.rand)(0,this.rect.width)-e.clientWidth/2+"px",e.style.top=(0,o.rand)(0,this.rect.height)-e.clientHeight/2+"px",[{opacity:0,transform:"scale(0.2, 0.2) translate(0, 20px)"},{opacity:1,transform:"scale(0.5, 0.5) translate(0, 0px)"},{opacity:0,transform:"scale(1.0, 1.0) translate(0, -50px)"}]):void 0}},{key:"_defaultOptions",value:function(){return{text:{weight:"bold",size:56,color:"#000",shadow:"#fff",className:"flowly-text",whiteSpace:"nowrap",zIndex:2147483647},disable:!1,duration:2e3,easing:"linear",direction:"horizontal"}}}]),e}();t.exports=a},{"./utils":3,"element-resize-event":1}],3:[function(e,t,i){"use strict";t.exports={rand:function(e,t){return Math.floor(Math.random()*(t-e)+e)},randomStr:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,t="",i=0;i<e;i++){var n=16*Math.random()|0;t+=(12==i?4:16==i?3&n|8:n).toString(16)}return t}}},{}]},{},[2])(2)});
//# sourceMappingURL=flowly.min.js.map
