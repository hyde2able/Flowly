!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Flowly=e()}}(function(){return function e(t,n,i){function o(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(r)return r(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return o(n||e)},c,c.exports,e,t,n,i)}return n[a].exports}for(var r="function"==typeof require&&require,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(e,t,n){function i(e){var t=e.target||e.srcElement;t.__resizeRAF__&&r(t.__resizeRAF__),t.__resizeRAF__=o(function(){var n=t.__resizeTrigger__;n.__resizeListeners__.forEach(function(t){t.call(n,e)})})}var o=function(){var e=this,t=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||function(t){return e.setTimeout(t,20)};return function(e){return t(e)}}(),r=function(){var e=this,t=e.cancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelAnimationFrame||e.clearTimeout;return function(e){return t(e)}}(),n=function(e,t){var n,o=this.document,r=o.attachEvent;if("undefined"!=typeof navigator&&(n=navigator.userAgent.match(/Trident/)||navigator.userAgent.match(/Edge/)),!e.__resizeListeners__)if(e.__resizeListeners__=[],r)e.__resizeTrigger__=e,e.attachEvent("onresize",i);else{"static"===getComputedStyle(e).position&&(e.style.position="relative");var a=e.__resizeTrigger__=o.createElement("object");a.setAttribute("style","display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1; opacity: 0;"),a.setAttribute("class","resize-sensor"),a.__resizeElement__=e,a.onload=function(){this.contentDocument.defaultView.__resizeTrigger__=this.__resizeElement__,this.contentDocument.defaultView.addEventListener("resize",i)},a.type="text/html",n&&e.appendChild(a),a.data="about:blank",n||e.appendChild(a)}e.__resizeListeners__.push(t)};t.exports="undefined"==typeof window?n:n.bind(window),t.exports.unbind=function(e,t){var n=document.attachEvent;t?e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1):e.__resizeListeners__=[],e.__resizeListeners__.length||(n?e.detachEvent("onresize",i):(e.__resizeTrigger__.contentDocument.defaultView.removeEventListener("resize",i),delete e.__resizeTrigger__.contentDocument.defaultView.__resizeTrigger__,e.__resizeTrigger__=!e.removeChild(e.__resizeTrigger__)),delete e.__resizeListeners__)}},{}],2:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=e("../utils"),a=function(){function e(t){i(this,e),this.token=(0,r.randomStr)(),this.opts=t}return o(e,[{key:"_createEffect",value:function(e,t,n){var i=this.opts.padding;switch(n){case"right":return e.style.left=t.left+t.width+"px",e.style.top=(0,r.rand)(i.top,t.height-e.clientHeight-i.bottom)+"px",[{left:t.width+"px"},{left:-e.clientWidth+"px"}];case"left":return e.style.left=-e.clientWidth+"px",e.style.top=(0,r.rand)(i.top,t.height-e.clientHeight-i.bottom)+"px",[{left:-e.clientWidth+"px"},{left:t.width+"px"}];case"top":return e.style.left=(0,r.rand)(0,t.width-e.clientWidth)+"px",e.style.top=-e.clientWidth+"px",[{top:-e.clientHeight+"px"},{top:t.height+"px"}];case"bottom":return e.style.left=(0,r.rand)(0,t.width-e.clientWidth)+"px",e.style.top=t.height+"px",[{top:t.height+"px"},{top:-e.clientHeight+"px"}];case"top-right":case"top-left":case"bottom-right":case"bottom-left":break;case"random":return e.style.opacity=0,e.style.left=(0,r.rand)(i.left,t.width-i.right)-e.clientWidth/2+"px",e.style.top=(0,r.rand)(i.top,t.height-i.bottom)-e.clientHeight/2+"px",[{opacity:0,transform:"scale(0.2, 0.2) translate(0, 20px)"},{opacity:1,transform:"scale(0.5, 0.5) translate(0, 0px)"},{opacity:0,transform:"scale(1.0, 1.0) translate(0, -50px)"}]}}},{key:"_createTiming",value:function(e,t){var n=t.duration,i=t.easing,o={};return o.iterations=1,o.duration=parseInt(n||this.opts.duration,10)*(e.width+this.elem.offsetWidth)/e.width,o.easing=i||this.opts.easing,o}},{key:"hide",value:function(){this.elem.style.display="none"}},{key:"show",value:function(){this.elem.style.display="block"}}]),e}();n.default=a},{"../utils":6}],3:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(e){return e&&e.__esModule?e:{default:e}}(e("./base")),l=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return r.elem=r._createImage(e),r}return r(t,s.default),a(t,[{key:"_createImage",value:function(e){var t=document.createElement("img");return t.style.position="absolute",t.className=e.className||this.opts.image.className,t.style.width=e.width||this.opts.image.width,t.style.height=e.height||this.opts.image.height,t.style.zIndex=2147483647,t.src=e.url,t}},{key:"onload",value:function(e){this.elem.addEventListener("load",e)}},{key:"addAnimation",value:function(e,t,n){var i=this._createEffect(this.elem,t,e.direction||this.opts.direction),o=this._createTiming(t,e);this.elem.animate(i,o).onfinish=n}}]),t}();n.default=l},{"./base":2}],4:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(e){return e&&e.__esModule?e:{default:e}}(e("./base")),l=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return r.elem=r._createText(e),r}return r(t,s.default),a(t,[{key:"_createText",value:function(e){var t=e.color||this.opts.text.color,n=e.shadow||this.opts.text.shadow,i=e.size||this.opts.text.size,o=e.weight||this.opts.text.weight,r=e.fontFamily||this.opts.text.fontFamily,a=document.createElement("span");return a.className=e.className||this.opts.text.className,a.style.position="absolute",a.style.fontSize=i+"px",a.style.fontWeight=o,a.style.color=t,a.style.fontFamily=r,a.style.textShadow="-2px -2px 0px "+n+", -2px 2px 0px "+n+", 2px -2px 0px "+n+", 2px 2px 0px "+n,a.style.whiteSpace=this.opts.text.whiteSpace,a.style.zIndex=this.opts.text.zIndex,a.innerText=e.body,a}},{key:"addAnimation",value:function(e,t,n){var i=this._createEffect(this.elem,t,e.direction||this.opts.direction),o=this._createTiming(t,e);this.elem.animate(i,o).onfinish=n}}]),t}();n.default=l},{"./base":2}],5:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=i(e("element-resize-event")),s=i(e("./flowly/text")),l=i(e("./flowly/image")),u=(e("./utils"),function(){function e(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,e),this.elem=t,this.app=document.querySelector(t),this.app.style.position="relative",this.app.style.overflow="hidden",this.rect=this.app.getBoundingClientRect(),this.opts=Object.assign(this._defaultOptions(),i),this.elems=new Map,(0,a.default)(this.app,function(){n.resize()})}return r(e,[{key:"addImage",value:function(e){var t=this;if(!this.opts.disable){var n=new l.default(e,this.opts);this.app.appendChild(n.elem),n.onload(function(i){t.elems.set(n.token,n),n.addAnimation(e,t.rect,function(){t.app.removeChild(n.elem),t.elems.delete(n.token)})})}}},{key:"addText",value:function(e){var t=this;if(!this.opts.disable){var n=new s.default(e,this.opts);this.app.appendChild(n.elem),this.elems.set(n.token,n),n.addAnimation(e,this.rect,function(){t.app.removeChild(n.elem),t.elems.delete(n.token)})}}},{key:"toggle",value:function(e){e?this.show():this.hide()}},{key:"hide",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,o=this.elems.values()[Symbol.iterator]();!(e=(i=o.next()).done);e=!0)i.value.hide()}catch(e){t=!0,n=e}finally{try{!e&&o.return&&o.return()}finally{if(t)throw n}}}},{key:"show",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,o=this.elems.values()[Symbol.iterator]();!(e=(i=o.next()).done);e=!0)i.value.show()}catch(e){t=!0,n=e}finally{try{!e&&o.return&&o.return()}finally{if(t)throw n}}}},{key:"resize",value:function(){this.app=document.querySelector(this.elem),this.app.style.position="relative",this.app.style.overflow="hidden",this.rect=this.app.getBoundingClientRect()}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.opts=Object.assign(this.opts,e)}},{key:"unbind",value:function(){a.default.unbind(this.app),this.update({disable:!0})}},{key:"_defaultOptions",value:function(){return{text:{weight:"bold",size:56,color:"#000",shadow:"#fff",className:"flowly-text",whiteSpace:"nowrap",zIndex:2147483647,fontFamily:'-apple-system, BlinkMacSystemFont, "Helvetica Neue", "Yu Gothic", YuGothic, "ヒラギノ角ゴ ProN W3", Hiragino Kaku Gothic ProN, Arial, "メイリオ", Meiryo, sans-serif'},image:{height:"200px",width:"auto",className:"flowly-image"},padding:{left:0,right:0,top:0,bottom:0},disable:!1,duration:2e3,easing:"linear",direction:"right"}}}]),e}());t.exports=u},{"./flowly/image":3,"./flowly/text":4,"./utils":6,"element-resize-event":1}],6:[function(e,t,n){"use strict";t.exports={rand:function(e,t){return Math.floor(Math.random()*(t-e)+e)},randomStr:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,t="",n=0;n<e;n++){var i=16*Math.random()|0;t+=(12==n?4:16==n?3&i|8:i).toString(16)}return t}}},{}]},{},[5])(5)});
//# sourceMappingURL=flowly.min.js.map
