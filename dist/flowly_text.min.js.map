{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/index.js"],"names":["f","exports","module","define","amd","window","global","self","this","Flowly","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","rand","value","Math","floor","random","elem","options","arguments","undefined","_classCallCheck","app","document","querySelector","rect","getBoundingClientRect","opts","Object","assign","_defaultOptions","style","position","overflow","text","_this","_createText","appendChild","console","log","effect","direction","left","width","clientWidth","timing","iterations","duration","offsetWidth","easing","animate","onfinish","removeChild","color","shadow","size","weight","createElement","className","top","height","fontSize","fontWeight","textShadow","whiteSpace","zIndex","clientHeight","offsetHeight","innerText","body"],"mappings":"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","file":"flowly_text.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","const rand = (value) => {\n  return Math.floor(value * Math.random())\n}\n\nclass Flowly {\n  constructor(elem, options = {}) {\n    this.app = document.querySelector(elem)\n    this.rect = this.app.getBoundingClientRect()\n    this.opts = Object.assign(this._defaultOptions(), options)\n\n    this.app.style.position = 'relative'\n    this.app.style.overflow = 'hidden'\n  }\n\n  addText(text) {\n    const t = this._createText(text)\n    this.app.appendChild(t)\n\n    console.log(this.rect)\n\n    let effect\n    if (this.opts.direction === 'horizontal') {\n      effect = [{\n        left: `${this.rect.width}px`\n      }, {\n        left: `${-t.clientWidth}px`\n      }]\n    } else if (this.opts.direction === 'vertical') {\n      effect = []\n    }\n\n    let timing = {}\n    timing.iterations = 1\n    timing.duration = (text.duration || this.opts.duration) * (this.app.clientWidth + t.offsetWidth) / this.app.clientWidth\n    timing.easing = text.easing || this.opts.easing\n\n    t.animate(effect, timing).onfinish = () => {\n      this.app.removeChild(t)\n    }\n  }\n\n  update(options = {}) {\n    this.opts = Object.assign(this.opts, options)\n  }\n\n  _createText(text) {\n    const color  = text.color  || this.opts.text.color\n    const shadow = text.shadow || this.opts.text.shadow\n    const size   = text.size   || this.opts.text.size\n    const weight = text.weight || this.opts.text.weight\n    const t = document.createElement('span')\n\n    t.className        = text.className || this.opts.text.className\n    t.style.position   = 'absolute'\n    t.style.left       = `${this.rect.left + this.rect.width}px`\n    t.style.top        = (this.rect.top + rand(this.rect.height - 40)) + 'px'\n    t.style.fontSize   = size + 'px'\n    t.style.fontWeight = weight\n    t.style.color      = color\n    t.style.textShadow = `-2px -2px 0px ${shadow}, -2px 2px 0px ${shadow}, 2px -2px 0px ${shadow}, 2px 2px 0px ${shadow}`\n    t.style.whiteSpace = this.opts.text.whiteSpace\n    t.style.zIndex     = this.opts.text.zIndex\n    t.style.top 　　　　= rand(this.app.clientHeight - t.offsetHeight) + 'px'\n\n    t.innerText = text.body\n\n    return t\n  }\n\n  _defaultOptions() {\n    return {\n      text: {\n        weight: 'bold',\n        size  : 56,\n        color : '#000',\n        shadow: '#fff',\n        className: 'flowly-text',\n        whiteSpace: 'nowrap' || 'pre',\n        zIndex: 2147483647,\n      },\n      duration: 2000,\n      easing: 'linear',\n      direction: 'horizontal',\n    }\n  }\n}\n\nmodule.exports = Flowly\n"]}